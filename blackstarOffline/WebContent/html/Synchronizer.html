<!DOCTYPE html>
<html>
  <head>
	<title>Órden de servicio Aire Acondicionado (Offline)</title>
	<link rel="stylesheet" href="../css/960.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="../css/template.css" type="text/css" media="screen"/>
	<link rel="stylesheet" href="../css/colour.css" type="text/css" media="screen"/>
	<link href="../js/glow/1.7.0/widgets/widgets.css" type="text/css" rel="stylesheet" />
	<link rel="stylesheet" href="../css/jquery.ui.theme.css">
	<link rel="stylesheet" href="../css/jquery-ui.min.css">
	<link rel="stylesheet" href="../css/jquery.signature.css">
	<link rel="stylesheet" href="../css/jquery.datetimepicker.css">
	<script src="../js/glow/1.7.0/core/core.js" type="text/javascript"></script>
	<script src="../js/glow/1.7.0/widgets/widgets.js" type="text/javascript"></script>
	<script src="../js/jquery-1.10.1.min.js"></script>
	<script src="../js/jquery-ui.js"></script>
	<script src="../js/jquery.ui.touch-punch.min.js"></script>
	<script src="../js/jquery.signature.min.js"></script>
	<script src="../js/jquery.datetimepicker.js"></script>
	<script type="text/javascript">
		glow.ready(function(){
			new glow.widgets.Sortable(
				'#content .grid_5, #content .grid_6',
				{
					draggableOptions : {
						handle : 'h2'
					}
				}
			);
		});
			
		function synch(){
			var response = $.ajax({
				  type: "POST",
				  url: "http://localhost:8888/offlineOS/save.do",
				  data: { json : localStorage.localOSData },
				  dataType: "text",
				  onLoading:jQuery("#ajaxLoading").html('<img src="../img/loader.gif" />').show(),
				  async:false
				}).responseText;
			alert(response);
		}
		</script>
	
	<script type="text/javascript" charset="utf-8">
	
	$(document).ready(function () {
		if(typeof (localStorage.localOSData) === "undefined"){
		  localStorage.localOSData = "";
		}
        $("#serviceOrderNumber").val(localStorage.localOSData.split("$oflnOS-").length);
		
	});

		function isNumberKey(evt){


		      var charCode = (evt.which) ? evt.which : event.keyCode;
		    	         if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57))
		    	            return false;

		    	         return true;
		}
		
	</script> 
	
		 
	</head>
<body>
<div id="content" class="container_16 clearfix">	
				<div class="grid_16">					
					<div class="box">
						<h2>SINCRONIZACION DE ORDENES DE SERVICIO OFFLINE</h2>
							<table>
								<tr>
									<td>Ordenes por sincronizar:</td>
									<td><input id="serviceOrderNumber" type="text" style="width:95%;" maxlength="5" readOnly="true"/></td>
									<td colspan="2"><small></small>
										
									</td>
								</tr>
							</table>
						</div>					
					</div>
					<div class="grid_16">
						<div class="box">
							<table>
								<thead>
									<tr>
										<th colspan="9"> </th>
									</tr>
								</thead>
							</table>

							<table>
								<tbody>
									<tr>
										<td>
											<input class="searchButton" type="submit" value="Sincronizar" onclick="synch()">
										</td>
									</tr>
								<tbody>
							</table>
							

					</div>
					</div>
					<div id="ajaxLoading"></div>
		</div>
</body>
</html>