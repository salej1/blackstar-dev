<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
	<title>Órden de servicio UPS (Offline)</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" href="../css/960.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="../css/template.css" type="text/css" media="screen"/>
		<link rel="stylesheet" href="../css/colour.css" type="text/css" media="screen"/>
		<link href="../js/glow/1.7.0/widgets/widgets.css" type="text/css" rel="stylesheet" />
		<link rel="stylesheet" href="../css/jquery.ui.theme.css">
		<link rel="stylesheet" href="../css/jquery-ui.min.css">
		<link rel="stylesheet" href="../css/jquery.signature.css">
		<script src="../js/glow/1.7.0/core/core.js" type="text/javascript"></script>
		<script src="../js/glow/1.7.0/widgets/widgets.js" type="text/javascript"></script>
		<script src="../js/jquery-1.10.1.min.js"></script>
		<script src="../js/jquery-ui.js"></script>
		<script src="../js/jquery.ui.touch-punch.min.js"></script>
		<script src="../js/jquery.signature.min.js"></script>
		<link rel="stylesheet" href="../css/jquery.datetimepicker.css">
	    <script src="../js/jquery.datetimepicker.js"></script>
		<script type="text/javascript">
			glow.ready(function(){
				new glow.widgets.Sortable(
					'#content .grid_5, #content .grid_6',
					{
						draggableOptions : {
							handle : 'h2'
						}
					}
				);
			});
			
			function save(){
				var localStorageObjects = $( "*[name='localStorage']");
				var data = "$oflnOS-ups: {";
				for(var i = 0; i<localStorageObjects.length; i++){
				  if(localStorageObjects[i].value == "on"){
					localStorageObjects[i].value = localStorageObjects[i].checked;
				  }
				  data += ("\"" + localStorageObjects[i].id + "\"") + ":" 
					     + ("\"" + localStorageObjects[i].value.replace(/"/g, "'")  
					    		                                   + "\"") +  ",";
				}
				data += "}";
				if(typeof (localStorage.localOSData) === "undefined"){
				  localStorage.localOSData = "";
				}
				localStorage.localOSData = localStorage.localOSData + data.replace(",}", "}");
				alert(data.replace(",}", "}"));
			}
		</script>
	
	<script type="text/javascript" charset="utf-8">
	
	$(document).ready(function () {
		
		$( "#serviceDate" ).datetimepicker();
		$( "#closed" ).datetimepicker();
		
		// Signature capture box # 1 
		$('#signCapture').signature({syncField: '#signCreated'});
		$('#leftSign').signature({disabled: true}); 
		$("#signCapDialog").dialog({
			autoOpen: false,
			height: 220,
			width: 370,
			modal: true,
			buttons: {
				"Aceptar": function() {
					$('#leftSign').signature('draw', $('#signCreated').val()); 
					$( this ).dialog( "close" );
				},
				
				"Borrar": function() {
					$('#signCapture').signature('clear'); 
				},
				
				"Cancelar": function() {
				$( this ).dialog( "close" );
			}}
		});
		
		// Signature capture box # 2 
		$('#signCapture2').signature({syncField: '#signReceivedBy'});
		$('#rightSign').signature({disabled: true}); 
		$("#signCapDialog2").dialog({
			autoOpen: false,
			height: 220,
			width: 370,
			modal: true,
			buttons: {
				"Aceptar": function() {
					$('#rightSign').signature('draw', $('#signReceivedBy').val()); 
					$( this ).dialog( "close" );
				},
				
				"Borrar": function() {
					$('#signCapture2').signature('clear'); 
				},
				
				"Cancelar": function() {
				$( this ).dialog( "close" );
			}}
		});
	});

	function isNumberKey(evt){
	      var charCode = (evt.which) ? evt.which : event.keyCode;
	    	         if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57))
	    	            return false;

	    	         return true;
	}
	
	</script> 
	
		 
	</head>
	<body>
		<div id="content" class="container_16 clearfix">	
				<div class="grid_16">					
					<div class="box">
						<h2>UPS (Offline)</h2>
							<table>
								<tr>
									<td>Folio:</td>
									<td><input id="serviceOrderNumber" type="text" style="width:95%;" maxlength="5" readOnly="true" value="No disponible"/></td>
									<td colspan="2"><small></small>
										
									</td>
								</tr>
								<tr>
									<td>Cliente</td>
									<td colspan="5"><input id="customer" type="text" style="width:95%;" name="localStorage" /></td>
									<td>Contrato/Proyecto</td>
									<td colspan="3"><input id="project" type="text" style="width:95%;" name="localStorage" /></td>
								</tr>
								<tr>
									<td>Domicilio</td>
									<td colspan="5"><textarea id="equipmentAddress" style="width:95%;height:50px;" name="localStorage"></textarea></td>
									<td>Telefono</td>
									<td><input type="text" id="contactPhone" style="width:95%;" name="localStorage" /></td>
								</tr>
								<tr>
									<td>Marca</td>
									<td><input id="brand" type="text" style="width:95%;" name="localStorage" /></td>
									<td>Modelo</td>
									<td><input id="model" type="text" style="width:95%;" name="localStorage" /></td>
									<td>Capacidad</td>
									<td><input id="capacity" type="text" style="width:95%;" name="localStorage" /></td>
										
								</tr>
								<tr>
									<td>NO. DE SERIE</td>
									<td><input id="serialNumber" type="text" style="width:95%;" name="localStorage" /></td>
									<td>Fecha y hora de llegada</td>
									<td><input id="serviceDate" type="text" style="width:95%;"  name="localStorage"/></td>
								</tr>
							</table>
						</div>					
					</div>
			<div class="grid_16">
				<div class="box">
					<table>
						<thead>
							<tr>
								<th colspan="4">ACTIVIDADES DESAROOLLADAS:</th>
							</tr>
						</thead>
						<tr>
							<td>Estado del equipo encontrado:</td>
							<td><input id="estatusEquipment" type="text" style="width:95%;" name="localStorage"/></td>
							<td>Estado de los capacitores:</td>
							<td><input id="capacitorStatus" type="text" style="width:95%;" name="localStorage"/></td>
						</tr>
						<tr>
							<td>Sopleteado:</td>
							<td><input type="checkbox"  id="cleaned"  style="width:95%;" name="localStorage"/></td>
							<td>Verificación de fusibles y conexiones eléctricas:</td>
							<td><input type="checkbox"  id="verifyFuzz"  style="width:95%;" name="localStorage"/></td>
						</tr>
						<tr>
							<td>Limpieza por aspirado y brocha:</td>
							<td><input type="checkbox"  id="hooverClean"  style="width:95%;" name="localStorage"/></td>
							<td>Revisión y verificación del rectificador/cargador:</td>
							<td><input type="checkbox"  id="chargerReview"  style="width:95%;" name="localStorage"/></td>
						</tr>
						<tr>
							<td>Verificación de conexiones y reapriete tornillería:</td>
							<td><input type="checkbox"  id="verifyConnections"  style="width:95%;" name="localStorage"/></td>
							<td>Estado de ventiladores:</td>
							<td><input id="fanStatus" type="text" style="width:95%;" name="localStorage"/></td>
						</tr>
						<tr>
							<td><b>BANCO DE BATERIAS:</b></td>
						</tr>
						<tr>
							<td>Reapriete de puentes/conectores:</td>
							<td><input type="checkbox"  id="checkConnectors"  style="width:95%;" name="localStorage"/></td>
							<td>Temperatura ambiente:</td>
							<td><input id="temp" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
						</tr>
						<tr>
							<td>Verificación de fugas/sulfataciones:</td>
							<td><input type="checkbox"  id="cverifyOutflow"  style="width:95%;" name="localStorage"/></td>
							<td>Pruebas de carga y descarga:</td>
							<td><input type="checkbox"  id="chargeTest" style="width:95%;" name="localStorage"/></td>
						</tr>
						<tr>
							<td>No de baterías:</td>
							<td><input id="numberBatteries" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
							<td>Marca, modelo, capacidad:</td>
							<td><input id="brandModel" type="text" style="width:95%;" name="localStorage"/></td>
						</tr>
						<tr>
							<td>Fecha o serie de fabricación:</td>
							<td><input id="manufacturedDateSerial" type="text" style="width:95%;" name="localStorage"/></td>
							<td>Voltaje promedio de baterías:</td>
							<td><input id="batteryVoltage" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
						</tr>
						<tr>
							<td>Baterías dañadas (cant y voltaje de c/carga):</td>
							<td colspan="3"><input id="damageBatteries" type="text" style="width:95%;" name="localStorage"/></td>
						</tr>
						<tr>
							<td>Otro (modelo banco externo)):</td>
							<td colspan="3"><input id="other" type="text" style="width:95%;" name="localStorage"/></td>
						</tr>
						<tr>
							<td colspan="4"><b>PRUEBAS GENERALES: (Solicitar autorización para pruebas)</b></td>
						</tr>
						<tr>
							<td>Transferencia  y re-transferencia a línea comercial:</td>
							<td><input id="trasferLine" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
							<td>Respaldo de baterías con falla en línea:</td>
							<td><input id="backupBatteries" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
						</tr>
						<tr>
							<td>Transferencia y re-transferencia con planta de emergencia:</td>
							<td><input id="transferEmergencyPlant" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
							<td>Verificación de voltaje de baterías y de salida durante las pruebas:</td>
							<td><input id="verifyVoltage" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
						</tr>
						<tr>
							<td><b>PARÁMETROS DE OPERACIÓN:</b></td>
						</tr>
						<tr>
							<td>Voltaje entrada fase a fase:</td>
							<td><input id="inputVoltagePhase" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
							<td>Voltaje salida fase a fase:</td>
							<td><input id="outputVoltagePhase" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
						</tr>
						<tr>
							<td>Voltaje entrada fase a neutro:</td>
							<td><input id="inputVoltageNeutro" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
							<td>Voltaje salida fase a neutro:</td>
							<td><input id="outputVoltageNeutro" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
						</tr>
						<tr>
							<td>Voltaje entre neutro y tierra:</td>
							<td><input id="inputVoltageNeutroGround" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
							<td>Frec. entrada/salida:</td>
							<td><input id="inOutFrecuency" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
						</tr>
						<tr>
							<td>Porcentaje de carga o corriente:</td>
							<td><input id="percentCharge" type="text" style="width:95%;" onkeypress='return isNumberKey(event)' name="localStorage"/></td>
							<td>Frec. entrada/salida:</td>
							<td><input id="busVoltage" type="text" style="width:95%;"  onkeypress='return isNumberKey(event)' name="localStorage"/></td>
						</tr>
					</table>
					<table>
						<thead>
							<tr>
								<th>COMENTARIOS</th>
							</tr>
						</thead>
						<tr>
							<td>Anotar comentarios del usuario. Anotar alarmas inusuales. Indicar condiciones del lugar y estado final del equipo. Otras observaciones.</td>
						</tr>
						<tr>
							<td style="height:140px;">
								<textarea id="observations" style="width:100%;height:100%;"></textarea>
							</td>
						</tr>
						
					</table>
							<table>
								<thead>
									<tr>
										<th colspan="2">Realizado Por</th>
										<th colspan="2">Servicio y/o equipo recibido a mi entera satisfaccion</th>
									</tr>
								</thead>
								<tr>
									<td colspan="2">
										<span>Firma</span>
										<div id="leftSign" class="signBox" onclick="$('#signCapDialog').dialog('open');">
										</div>
									</td>
									<td colspan="2" >
										<span>Firma</span>
										<div id="rightSign" class="signBox" onclick="$('#signCapDialog2').dialog('open');">
										</div>
									</td>
								</tr>
								<tr>
									<td>Nombre</td>
									<td><input id="responsible" type="text" style="width:95%;"  name="localStorage"/></td>
									<td>Nombre</td>
									<td><input id="receivedBy" type="text" style="width:95%;" name="localStorage"/></td>
								</tr>
								<tr>
									<td>Fecha y hora de salida</td>
									<td><input id="closed" type="text" style="width:95%;"  name="localStorage"/></td>
									<td>Puesto</td>
									<td><input id="receivedByPosition"  style="width:95%;"  name="localStorage"/></td>
								</tr>						
							</table>

							<table>
								<tbody>
									<tr>
										<td>
											<input class="searchButton" type="submit" value="Guardar servicio" onclick="save()">
										</td>
									</tr>
								<tbody>
							</table>
							

					</div>
					</div>
					
					<input type="hidden" id="policyId"/>
					
					<!-- Signature capture box # 1 -->
					<input type="hidden" id="signCreated" name="localStorage"/>
					<div id="signCapDialog" title="Capture su firma en el cuadro" class="signBoxDlg">
						<div id="signCapture">
						</div>
					</div>
					
					<!-- Signature capture box # 2 -->
					<input type="hidden" id="signReceivedBy" name="localStorage"/>
					<div id="signCapDialog2" title="Capture su firma en el cuadro" class="signBoxDlg">
						<div id="signCapture2">
						</div>
					</div>
		</div>
	</body>
</html>